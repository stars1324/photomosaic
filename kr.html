<!DOCTYPE html>
<html lang="ko" id="html-root">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- SEO최적화 - TDK -->
    <title>포토 모자이크 도구 - 온라인 모자이크 생성기 | 무료 사진 모자이크 제작</title>
    <meta name="description" content="전문적인 온라인 포토 모자이크 도구입니다. 여러 배경 이미지를 업로드하여 예술적인 모자이크 효과를 만드세요. 무료 사용, 설치 불필요, 개인 및 상업적 디자인을 위한 고품질 출력.">
    <meta name="keywords" content="포토 모자이크,모자이크 생성기,사진 콜라주,이미지 모자이크,온라인 디자인 도구,예술 효과,무료 도구,이미지 처리">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="포토 모자이크 도구 - 온라인 모자이크 생성기">
    <meta property="og:description" content="전문적인 온라인 포토 모자이크 도구입니다. 여러 배경 이미지를 업로드하여 예술적인 모자이크 효과를 만드세요. 무료 사용, 설치 불필요.">
    <meta property="og:image" content="/og-image.jpg">
    <meta property="og:url" content="https://yourdomain.com/kr.html">
    <meta property="og:site_name" content="포토 모자이크 도구">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="포토 모자이크 도구 - 온라인 모자이크 생성기">
    <meta name="twitter:description" content="전문적인 온라인 포토 모자이크 도구입니다. 여러 배경 이미지를 업로드하여 예술적인 모자이크 효과를 만드세요.">
    <meta name="twitter:image" content="/twitter-image.jpg">

    <!-- 기타 SEO meta 태그 -->
    <meta name="author" content="포토 모자이크 도구">
    <meta name="robots" content="index, follow">
    <meta name="googlebot" content="index, follow">
    <meta name="language" content="ko">
    <meta name="revisit-after" content="7 days">
    <meta name="theme-color" content="#2563eb">

    <!-- 구조화된 데이터 - JSON-LD -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "포토 모자이크 도구",
        "description": "전문적인 온라인 포토 모자이크 도구입니다. 여러 배경 이미지를 업로드하여 예술적인 모자이크 효과를 만드세요",
        "url": "https://yourdomain.com/kr.html",
        "applicationCategory": "DesignApplication",
        "operatingSystem": "Any",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "KRW"
        },
        "featureList": [
            "온라인 모자이크 생성",
            "다중 이미지 형식 지원",
            "고품질 출력",
            "무료 사용",
            "등록 불필요"
        ]
    }
    </script>

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">

    <!-- 언어 대체 링크 -->
    <link rel="alternate" hreflang="zh" href="index.html">
    <link rel="alternate" hreflang="en" href="en.html">
    <link rel="alternate" hreflang="ja" href="jp.html">
    <link rel="alternate" hreflang="ko" href="kr.html">

    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>포토 모자이크 도구</h1>
            <p>타겟 이미지와 배경 이미지 라이브러리를 업로드하여 예술적인 모자이크 효과 생성</p>

            <!-- 언어 링크 -->
            <div class="language-links">
                <a href="index.html" class="language-link" title="중국어로 전환">
                    <span class="language-flag">🇨🇳</span>
                    <span class="language-name">中文</span>
                </a>
                <a href="en.html" class="language-link" title="영어로 전환">
                    <span class="language-flag">🇺🇸</span>
                    <span class="language-name">English</span>
                </a>
                <a href="jp.html" class="language-link" title="일본어로 전환">
                    <span class="language-flag">🇯🇵</span>
                    <span class="language-name">日本語</span>
                </a>
                <a href="kr.html" class="language-link active" title="한국어로 전환">
                    <span class="language-flag">🇰🇷</span>
                    <span class="language-name">한국어</span>
                </a>
            </div>
        </header>

        <!-- 간단한 사용 방법 -->
        <section style="background:#f8f9fa;border-radius:8px;padding:16px 20px;margin-bottom:24px;box-shadow:0 2px 8px rgba(0,0,0,0.04);">
            <h2 style="font-size:1.2rem;color:#333;margin-bottom:10px;">사용 방법</h2>
            <ol style="color:#555;font-size:1rem;line-height:1.8;padding-left:20px;">
                <li>여러 배경 이미지 또는 ZIP 파일을 "배경 이미지 라이브러리" 섹션에 업로드하세요.</li>
                <li>타겟 이미지를 "타겟 이미지" 섹션에 업로드하세요.</li>
                <li>그리드 정밀도, 출력 품질, 배경 이미지 재사용 설정을 조정하세요.</li>
                <li>"모자이크 생성" 버튼을 클릭하고 완료될 때까지 기다리세요.</li>
                <li>아래에서 결과를 미리 보고 PNG/JPG 형식으로 다운로드하세요.</li>
            </ol>
        </section>

        <main role="main" id="main-content">
            <!-- 업로드 섹션 -->
            <section class="upload-section" aria-labelledby="upload-heading">
                <h2 id="upload-heading" class="sr-only">이미지 업로드 영역</h2>
                <div class="upload-container">
                    <!-- 배경 이미지 업로드 -->
                    <article class="upload-area" id="bg-upload-area">
                        <h3>배경 이미지 라이브러리</h3>
                        <div class="drop-zone" id="bg-drop-zone" role="button" tabindex="0" aria-label="배경 이미지를 드래그하거나 클릭하여 업로드">
                            <div class="drop-content">
                                <svg class="upload-icon" viewBox="0 0 24 24" aria-hidden="true">
                                    <path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z" />
                                </svg>
                                <p>여러 이미지 또는 ZIP 파일을 여기에 드래그하세요. JPG, PNG, WebP 형식 지원</p>
                                <button type="button" class="upload-btn" id="bg-upload-btn" aria-describedby="bg-upload-help">파일 선택</button>
                                <input type="file" id="bg-file-input" multiple accept="image/*,.zip" style="display: none;" aria-label="배경 이미지 파일 선택">
                            </div>
                        </div>
                        <div class="upload-info">
                            <span id="bg-count" aria-live="polite">업로드됨: 0개 이미지</span>
                            <button type="button" class="clear-btn" id="clear-bg-btn" aria-label="모든 배경 이미지 지우기">라이브러리 지우기</button>
                        </div>
                        <small id="bg-upload-help">최상의 모자이크 효과를 위해 50-200개의 서로 다른 고품질 이미지 업로드를 권장합니다</small>
                    </article>

                    <!-- 타겟 이미지 업로드 -->
                    <article class="upload-area" id="target-upload-area">
                        <h3>타겟 이미지 업로드</h3>
                        <div class="drop-zone" id="target-drop-zone" role="button" tabindex="0" aria-label="타겟 이미지를 드래그하거나 클릭하여 업로드">
                            <div class="drop-content" id="target-drop-content">
                                <svg class="upload-icon" viewBox="0 0 24 24" aria-hidden="true">
                                    <path d="M9,16V10H5L12,3L19,10H15V16H9M5,20V18H19V20H5Z" />
                                </svg>
                                <p>타겟 이미지를 여기에 드래그하여 모자이크 작품으로 변환</p>
                                <button type="button" class="upload-btn" id="target-upload-btn" aria-describedby="target-upload-help">이미지 선택</button>
                                <input type="file" id="target-file-input" accept="image/*" style="display: none;" aria-label="타겟 이미지 파일 선택">
                            </div>
                            <div class="target-preview" id="target-preview" style="display: none;">
                                <img id="target-img" alt="타겟 이미지 미리보기" loading="lazy">
                                <button type="button" class="remove-btn" id="remove-target-btn" aria-label="타겟 이미지 제거">제거</button>
                            </div>
                        </div>
                        <small id="target-upload-help">JPG, PNG, WebP 형식을 지원합니다. 고해상도 이미지를 권장합니다</small>
                    </article>
                </div>
            </section>

            <!-- 설정 섹션 -->
            <section class="config-section" aria-labelledby="config-heading">
                <h3 id="config-heading">모자이크 생성 매개변수</h3>
                <div class="config-container">
                    <div class="config-item">
                        <label for="grid-size">그리드 정밀도 (그리드 수):</label>
                        <div class="slider-container">
                            <input type="range" id="grid-size" min="20" max="200" value="50" step="1" aria-describedby="grid-size-help">
                            <span id="grid-value" aria-live="polite">50</span>
                        </div>
                        <small id="grid-size-help">값이 클수록 더 세밀한 모자이크가 생성되지만 생성 시간이 길어집니다. 권장값: 50-100</small>
                    </div>
                    <div class="config-item">
                        <label for="output-quality">출력 품질:</label>
                        <select id="output-quality" aria-describedby="quality-help">
                            <option value="standard">표준 품질 (웹 미리보기 및 소셜 공유에 적합)</option>
                            <option value="high" selected>고품질 (인쇄 및 전문적 용도에 적합)</option>
                            <option value="ultra">초고품질 (대형 인쇄에 적합)</option>
                        </select>
                        <small id="quality-help">품질이 높을수록 해상도와 파일 크기가 커집니다</small>
                    </div>
                    <div class="config-item">
                        <label for="allow-reuse">
                            <input type="checkbox" id="allow-reuse" checked aria-describedby="reuse-help">
                            배경 이미지 재사용 허용
                        </label>
                        <small id="reuse-help">재사용을 허용하면 매칭 정확도가 향상되지만 시각적 다양성이 감소할 수 있습니다</small>
                    </div>
                </div>
            </section>

            <!-- 작업 섹션 -->
            <section class="action-section" aria-labelledby="action-heading">
                <h3 id="action-heading" class="sr-only">작업 제어</h3>
                <button type="button" class="primary-btn" id="generate-btn" disabled aria-describedby="generate-help">모자이크 생성</button>
                <button type="button" class="secondary-btn" id="reset-btn" aria-label="모든 설정과 업로드한 이미지 재설정">재설정</button>
                <small id="generate-help">먼저 배경 라이브러리와 타겟 이미지를 업로드하세요</small>
            </section>

            <!-- 진행상황 섹션 -->
            <section class="progress-section" id="progress-section" style="display: none;" aria-labelledby="progress-heading">
                <h3 id="progress-heading">생성 진행상황</h3>
                <div class="progress-container">
                    <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
                        <div class="progress-fill" id="progress-fill"></div>
                    </div>
                    <div class="progress-text" id="progress-text" aria-live="polite">준비 중...</div>
                </div>
            </section>

            <!-- 결과 섹션 -->
            <section class="result-section" id="result-section" style="display: none;" aria-labelledby="result-heading">
                <h3 id="result-heading">모자이크 생성 결과</h3>
                <div class="result-container">
                    <div class="canvas-container">
                        <canvas id="result-canvas" aria-label="생성된 모자이크 이미지"></canvas>
                    </div>
                    <div class="result-controls">
                        <button type="button" class="download-btn" id="download-png-btn" aria-label="PNG 형식 모자이크 이미지 다운로드">PNG 다운로드</button>
                        <button type="button" class="download-btn" id="download-jpg-btn" aria-label="JPG 형식 모자이크 이미지 다운로드">JPG 다운로드</button>
                    </div>
                    <p class="result-description">모자이크 작품이 완성되었습니다! 마우스 오른쪽 버튼으로 저장하거나 다운로드 버튼을 사용하여 고품질 이미지를 얻으세요.</p>
                </div>
            </section>
        </main>

        <!-- 푸터 -->
        <footer role="contentinfo">
            <div class="footer-content">
                <p>&copy; 2025 포토 모자이크 도구 - 전문 온라인 모자이크 생성기</p>
                <p>무료 사용 • 등록 불필요 • 다중 형식 지원 • 고품질 출력</p>
                <nav class="footer-nav" aria-label="푸터 네비게이션">
                    <a href="#" rel="noopener">튜토리얼</a>
                    <a href="#" rel="noopener">FAQ</a>
                    <a href="#" rel="noopener">문의하기</a>
                    <a href="#" rel="noopener">개인정보처리방침</a>
                </nav>
            </div>
        </footer>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="photomosaic.js"></script>
    <script src="app.js"></script>
</body>
</html>

